//active class
jQuery(function(t) {
    var o = window.location.href;
    t("ul.navbar-nav a").each(function() {
        this.href === o && t(this).addClass("active")
    })
});

/* hide top bor on scroll */
$(window).scroll(function() {    
    var scroll = $(window).scrollTop();

    if (scroll >= 33) {
        $(".navbar").removeClass("mt-xl-33");
    } else {
        $(".navbar").addClass("mt-xl-33");
    }
});

// capcha refresh on click
$(function() {
    if ($('a.capcha[img-href]').length > 0) {
        $('a.capcha[img-href]').each(function() {
            $(this).on('click', function() {
                var target = $(this).data('target');
                var imgsrc = $(this).attr('img-href');
                if (target) {
                    $(target).attr('src', imgsrc);
                }
            });
        });
    }
});

/* carousel touch functionality */
$(document).ready(function(){
    $(".carousel").on("touchstart", function(event){
                var xClick = event.originalEvent.touches[0].pageX;
                $(this).one("touchmove", function(event){
                    var xMove = event.originalEvent.touches[0].pageX;
                    if( Math.floor(xClick - xMove) > 5 ){
                        $(this).carousel('next');
                    }
                    else if( Math.floor(xClick - xMove) < -5 ){
                        $(this).carousel('prev');
                    }
                });
                $(".carousel").on("touchend", function(){
                    $(this).off("touchmove");
                });
    });
});


/*restrict copy paste*/
$(document).ready(function() {
    $('.company-overview #accordion').bind('cut copy paste', function(e) {
        e.preventDefault()
    });
    $(".company-overview #accordion").on("contextmenu", function(e) {
        return !1
    })
});

/*accordion scroll to particular div*/
$('.accordion-tab .collapse').on('shown.bs.collapse', function(e) {
    if ($(this).data('noscroll') != 1) {
        var panel = $(this).closest('.card');
        $('html,body').animate({
            scrollTop: panel.offset().top - 100
        }, 1000)
    }
    $(this).data('noscroll', 0)
});




 /* live sidebar form */
 $('.openlive').click(function(e){
    e.stopPropagation();
    $('#liveaccount').toggleClass('show-menu');
    $('#demoaccount').removeClass('show-menu');
});

$('#liveaccount').click(function(e){
    e.stopPropagation();
});

$('#closelive').click(function(e){
   $('#liveaccount').removeClass('show-menu');
});

if($(window).width() >= 768){

$('body,html').click(function(e){
   $('#liveaccount').removeClass('show-menu');
});

}
/* demo side bar form */
$('.opendemo').click(function(e){
    e.stopPropagation();
    $('#demoaccount').toggleClass('show-menu');
    $('#liveaccount').removeClass('show-menu');
});

$('#demoaccount').click(function(e){
    e.stopPropagation();
});

$('#closedemo').click(function(e){
   $('#demoaccount').removeClass('show-menu');
});

if($(window).width() >= 768){
    $('body,html').click(function(e){
        $('#demoaccount').removeClass('show-menu');
     });
  }


/**********Multi level dropdown */

$(function() {
    // ------------------------------------------------------- //
    // Multi Level dropdowns
    // ------------------------------------------------------ //
    
    $("div.dropdown-menu [data-toggle='dropdown']").on("click", function(event) {
        
      event.preventDefault();
      event.stopPropagation();
  
      $(this).siblings().toggleClass("show");
  
      
      if (!$(this).next().hasClass('show')) {
        $(this).parents('.dropdown-menu').first().find('.show').removeClass("show");
      }
      $(this).parents('li.nav-item.dropdown.show').on('hidden.bs.dropdown', function(e) {
        $('.submenu-item .show').removeClass("show");
      });
  
    });
    
});


/****menu color change */

$('document').ready(function(){
    if ($(window).width() < 992) {
            $(".main-logo").addClass("d-none");
            $(".sub-logo").removeClass("d-block");
    }

    if ($(window).width() > 992) {
        $(".header-2 .navbar-nav li .desk-menu").addClass("custom-white");
            $(".sub-logo").addClass("d-none");
        $(window).scroll(function() {    
            var scroll = $(window).scrollTop();

            if (scroll >= 100) {
                $(".navbar").addClass("bg-white");
                $(".header-2 .navbar-nav li .desk-menu").addClass("custom-black");
                $(".header-2 .navbar-nav li .desk-menu").removeClass("custom-white");
                $(".main-logo").addClass("d-none");
                $(".sub-logo").addClass("d-block");
            } else {
                $(".navbar").removeClass("bg-white");
                $(".header-2 .navbar-nav li .desk-menu").removeClass("custom-black");
                $(".header-2 .navbar-nav li .desk-menu").addClass("custom-white");
                $(".main-logo").removeClass("d-none");
                $(".sub-logo").removeClass("d-block");
            }
        });
    }

    
});


/**************collapse for faq page */

$('.panel-collapse').on('show.bs.collapse', function () {
    $(this).siblings('.panel-heading').addClass('active');
  });

  $('.panel-collapse').on('hide.bs.collapse', function () {
    $(this).siblings('.panel-heading').removeClass('active');
  });



/**************logo change on first scroll *************/

$('document').ready(function(){
    if ($(window).width() < 992) {
            $(".main-logo").addClass("d-none");
            $(".sub-logo").removeClass("d-block");
    }

    if ($(window).width() > 992) {
        $(".header-2 .navbar-nav li a").addClass("custom-white");
            $(".sub-logo").addClass("d-none");
        $(window).scroll(function() {    
            var scroll = $(window).scrollTop();

            if (scroll >= 100) {
                $(".navbar").addClass("bg-white");
                $(".header-2 .navbar-nav li .desk-menu").addClass("custom-black");
                $(".header-2 .navbar-nav li .desk-menu").removeClass("custom-white");
                $(".main-logo").addClass("d-none");
                $(".sub-logo").addClass("d-block");
            } else {
                $(".navbar").removeClass("bg-white");
                $(".header-2 .navbar-nav li .desk-menu").removeClass("custom-black");
                $(".header-2 .navbar-nav li .desk-menu").addClass("custom-white");
                $(".main-logo").removeClass("d-none");
                $(".sub-logo").removeClass("d-block");
            }
        });
    }

    
});

/*************footer form */

$(document).ready(function(){$('#callbackform').formValidation({message:'This value is not valid',feedbackIcons:{valid:'fa fa-check',invalid:'fa fa-times',validating:'fa fa-refresh',feedback:'form-control-feedback'},fields:{email:{validators:{notEmpty:{message:'The email address is required and can\'t be empty'},regexp:{regexp:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:'The input is not a valid email address'}}}}})})